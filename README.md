# leasedcomputers
This repository contains a series of bash scripts designed to compare Active Directory logs against a document containing serial numbers of leased computers from a banking clientâ€™s equipment vendor. The output is a document containing hostnames of all leased computers which have logged into the network within the past year. The output can be fed into the next script which pings all of the hostnames to determine their network status. This allowed me to track down the hostnames, branch locations, and network status of all leased computers to be retrieved and replaced with new equipment in order to reduce department leasing costs. The scripts can't be run as-is without accompanying logs which I am unable to include in due to confidentiality.

1. Copy/Paste entire column of serial numbers from leased spreadsheet into a text file named serials.txt. Move serials.txt to same directory as ExportLeased.sh
2. Make sure there is an accompanying ./Computers/ directory containing logfiles titled with the hostnames of the machines you are trying to compare serial numbers with. These log-files should contain logon data such as logon time/date, hostname, serial number, etc. Each logfile must contain the text "Serial Number: XXXXXXX" for the script to find a match
3. Run ./ExportLeased.sh
4. The script will find all matches between serials.txt and serials in ./Computers/*.txt logfiles and store the hostname of each match in hosts.txt. It will then convert hosts.txt from DOS format to UNIX format text. This is essential or pingall.sh will not parse correctly.
5. Run ./pingall.sh - Pingall.sh will ping all hosts in hosts.txt then display the result (ONLINE or OFFLINE) for each hostname alphabetically. It will also store all online hostnames in online.txt, and all offline hostnames in offline.txt. (Per request - for offline hosts, the script also parses/stores the accompanying serial number for each host)

Note: If you run exportleased.sh or pingall.sh, the text it generates will be appended to the output files. This means that you should delete hosts.txt, online.txt, and offline.txt each time you run either of these scripts or you may have extra/duplicate output
